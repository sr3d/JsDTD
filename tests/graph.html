<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>YukYuk</title>

<script type="text/javascript" charset="utf-8">
	if( typeof console == 'undefined') { console = { log: function(msg) { ; } } };

DEBUG_COLLISION = !true;
</script>
<!-- 
<script type="text/javascript" charset="utf-8" src='http://ajax.googleapis.com/ajax/libs/prototype/1.6.0.3/prototype.js'></script>
-->
<script type="text/javascript" charset="utf-8" src='../javascripts/prototype.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/scriptaculous.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/unittest.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/utilities.js'></script>

<script type="text/javascript" charset="utf-8" src='../javascripts/jsDTD.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/grid.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/tower.js'></script>
<script type="text/javascript" charset="utf-8" src='../javascripts/graph.js'></script>  

<link rel="stylesheet" href="../css/test.css" type="text/css" />

</head>

<body>
  
  <div id="testlog"> </div>

	<div id="canvas">
	  <div id="grid">
	  </div>
	  <div id="units">
	  </div>
  </div>
  


<script type="text/javascript" language="javascript">
// <![CDATA[
  
  var gridSize = 6;

  var GridMock = Class.create( Grid, {
    render: Prototype.emptyFunction 
  } )  

  new Test.Unit.Runner({
    // optional setup function, run before each individual test case
    setup: function() { with(this) {
      var x = 5;
      var y = 5;      
      
      this.grid = new GridMock( '', { x: x, y: y } );
      window.grid = this.grid;
      
      
      /*
      for( var i = 0; i < x; i++ )
      {
        this.grid[i] = [];
        for( var j = 0; j < y; j++ )
          this.grid[i][j] = false;
      }
      */
    }},
    
    // optional teardown function, run after each individual test case
    teardown: function() { with(this) {
      $('units').innerHTML = '';
      $('grid').innerHTML = '';
      
      delete this.game;
      
    }},

    "test_find_path": function() { with(this) {
      window.graph = new Graph( this.grid.grid );

      //assert( graph.aStar1( 0,0, 0,0 ), "should return true if dest == src" );
      
      assert( graph.aStar1( 0,0, 4,4 ), "should return true" );

    }}
    
    ,"test_Util_PriotrityQueue": function() { with(this) {
      var pq = new Util.PQ();
      pq.push( 1, "a" );
      assertEqual( 1, pq.count(), "Q should have 1 item" );
      assertEqual( 1, pq.values.length, "Q's values array should have 1 item" );
    
      pq.push( 3, "c" );
      assertEqual( 2, pq.count() );
      
      pq.push( 2, "b" );
      assertEqual( 3, pq.count() );
      
      assertEqual( [ 1 ,"a" ].toString(), pq.pop() );
      assertEqual( [ 2 ,"b" ].toString(), pq.pop() );
      assertEqual( [ 3 ,"c" ].toString(), pq.pop() );
      assertEqual( 0, pq.count() );
    } }    

  }, { } );
  
  </script>
</body>

</html>
